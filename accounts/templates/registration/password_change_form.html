{% extends "core/_base.html" %}
{% block title %}Password Change Form{% endblock title %}

{% block content %}

<!--begin::App Content Header-->
<div class="app-content-header">
    <!--begin::Container-->
    <div class="container-fluid">
      <!--begin::Row-->
      <div class="row">
        <div class="col-sm-6"><h3 class="mb-0">Change Password</h3></div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-end">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Change Password</li>
          </ol>
        </div>
      </div>
      <!--end::Row-->
    </div>
    <!--end::Container-->
  </div>
  <!--end::App Content Header-->
  <!--begin::App Content-->
  <div class="app-content">
    <!--begin::Container-->
    <div class="container-fluid">
      <!--begin::Row-->
      <div class="row justify-content-center ">
        <div class="card my-5 col-lg-6 col-md-8 col-12 p-4">
            <p>Please enter your old password, for securityâ€™s sake, and then enter your new password twice so we can verify you typed it in correctly.</p>
            <form class="row g-3" method="post" novalidate>
                {% csrf_token %}
                <div>
                    {% if form.non_field_errors %}
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                             {% for error in form.non_field_errors %}
                              {{error}}
                             {% endfor %}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endif %}
                </div>
                <div class="mb-1">
                    <label for="{{ form.old_password.id_for_label }}" class="form-label">old password</label>
                    <input type="password" name="{{form.old_password.name}}" class="form-control {% if form.old_password.errors %}is-invalid{% endif %}" id="{{ form.old_password.auto_id }}" required>
                    {% if form.old_password.errors %}
                        {% for error in form.old_password.errors %}
                            <div class="invalid-feedback">
                                {{ error }}
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="mb-1">
                    <label for="{{ form.new_password1.id_for_label }}" class="form-label">new password</label>
                    <input type="password" name="{{ form.new_password1.name }}" class="form-control {% if form.new_password1.errors %}is-invalid{% endif %}" id="{{ form.new_password1.id_for_label }}" required>
                    {% if form.new_password1.errors %}
                        {% for error in form.new_password1.errors %}
                            <div class="invalid-feedback">
                                {{ error }}
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="mb-1">
                    <label for="{{ form.new_password2.id_for_label }}" class="form-label">new password</label>
                    <input type="password" name="{{ form.new_password2.name }}" class="form-control {% if form.new_password2.errors %}is-invalid{% endif %}" id="{{ form.new_password2.id_for_label }}" required>
                    {% if form.new_password2.errors %}
                        {% for error in form.new_password2.errors %}
                            <div class="invalid-feedback">
                                {{ error }}
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
            
                <div class="col-12">
                    <div class="text-start">
                        <input class="btn btn-success" type="submit" class="form-control" value="Change Password">
                        <a href="{% url 'accounts:profile' %}" class="btn btn-secondary">Cancel</a>
                    </div>
                </div> 
                
            </form>
        </div>    
    </div>
      <!-- /.row (main row) -->
    </div>
    <!--end::Container-->
  </div>
  <!--end::App Content-->

{% endblock content %}